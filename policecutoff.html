<!DOCTYPE html>
<html lang="hi">
  <head>
    <meta charset="UTF-8" />
    <title>Haryana Police Cutoff – Simulator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      * { box-sizing: border-box; }
      :root {
        --bg: #020617;
        --card-bg: rgba(15, 23, 42, 0.98);
        --border: rgba(31, 41, 55, 0.95);
        --muted: #9ca3af;
        --text: #e5e7eb;
        --accent: #7c3aed;
        --shadow-soft: 0 20px 40px rgba(15, 23, 42, 0.9);
      }

      body {
        margin: 0;
        font-family: system-ui, sans-serif;
        background: radial-gradient(circle at top, #1e293b 0, #020617 55%),
                    radial-gradient(circle at bottom, #111827 0, #020617 55%);
        color: var(--text);
        min-height: 100vh;
        padding: 16px;
      }

      .wrapper { max-width: 1000px; margin: 0 auto; }

      .header { text-align: center; margin-bottom: 14px; }
      .header h1 { margin: 6px 0 2px; font-size: 1.28rem; }
      .header p { margin: 0; font-size: 0.78rem; color: var(--muted); }

      .card, .table-card {
        padding: 12px;
        background: var(--card-bg);
        border-radius: 18px;
        border: 1px solid var(--border);
        box-shadow: var(--shadow-soft);
      }

      .layout-two {
        display: grid;
        grid-template-columns: 1.4fr 1fr;
        gap: 10px;
      }
      @media (max-width: 780px) {
        .layout-two { grid-template-columns: 1fr; }
      }

      .card-title { font-size: 0.9rem; font-weight: 600; margin-bottom: 8px; }

      .controls-row { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 8px; }
      .field { flex: 1; min-width: 150px; }
      .field.small { flex: 0 0 110px; }
      .field label { font-size: 0.7rem; color: var(--muted); margin-bottom: 3px; display: block; }

      .field input, .field select {
        width: 100%;
        padding: 7px 10px;
        background: rgba(15,23,42,0.96);
        border: 1px solid rgba(75,85,99,0.8);
        border-radius: 999px;
        color: var(--text);
        font-size: 0.82rem;
      }

      .calc-btn {
        padding: 8px 18px;
        border-radius: 999px;
        border: none;
        background: linear-gradient(120deg,#2563eb,#4f46e5,#a855f7);
        color: #fff;
        cursor: pointer;
      }

      .table-wrapper {
        border: 1px solid rgba(75,85,99,0.8);
        border-radius: 12px;
        overflow: hidden;
        background: #020617;
      }
      table { width: 100%; border-collapse: collapse; }
      th { background: #020617; padding: 6px; font-size: 0.75rem; }
      td { padding: 6px; font-size: 0.78rem; }
      tr:nth-child(even) td { background: rgba(15,23,42,0.98); }

      .chip { padding: 2px 8px; border-radius: 999px; font-size: 0.7rem; }
      .chip-gen { background: rgba(55,65,81,0.9); }
      .chip-cat { background: rgba(30,64,175,0.9); }
      .chip-ews { background: rgba(132,204,22,0.9); color:#000; }

      .error {
        padding: 8px;
        background: rgba(127,29,29,0.35);
        border: 1px solid rgba(248,113,113,0.7);
        border-radius: 8px;
        display: none;
        margin-top: 6px;
        color: #fecaca;
      }

      /* SOCIAL */
      .social-footer {
        margin-top: 18px;
        padding: 12px;
        border-radius: 18px;
        border: 1px solid rgba(31,41,55,0.9);
        background: rgba(15,23,42,0.95);
      }
      .social-footer-row { display:flex; gap:8px; flex-wrap:wrap; }

      .social-pill {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 10px;
        border-radius: 999px;
        background: rgba(15,23,42,0.95);
        border: 1px solid rgba(75,85,99,0.9);
        color:#fff;
        font-size:0.8rem;
        text-decoration:none;
      }
      .social-pill img { width:18px; height:18px; }

      .insta { border-color:#facc15; background:rgba(250,204,21,0.12); }
      .wh { border-color:#22c55e; background:rgba(34,197,94,0.12); }
      .tg { border-color:#38bdf8; background:rgba(56,189,248,0.12); }
      .yt { border-color:#ef4444; background:rgba(248,113,113,0.12); }
      .web{ border-color:#818cf8; background:rgba(129,140,248,0.12); }
    </style>
  </head>

  <body>
    <div class="wrapper">

      <div class="header">
        <h1>Haryana Police – Cutoff Simulator</h1>
        <p>Constable / SI Male–Female के लिए category wise कटऑफ (posts × 10 rule)</p>
      </div>

      <div class="layout-two">
        <!-- LEFT CARD -->
        <div class="card">
          <div class="card-title">Select Post Type</div>

          <div class="controls-row">
            <div class="field">
              <label>Post Type</label>
              <select id="postType">
                <option value="">– Select –</option>
                <option value="CONSTABLE_MALE">Constable (Male)</option>
                <option value="CONSTABLE_FEMALE">Constable (Female)</option>
                <option value="SI_MALE">Sub-Inspector (Male)</option>
                <option value="SI_FEMALE">Sub-Inspector (Female)</option>
              </select>
            </div>
          </div>

          <div class="card-title" style="margin-top:6px;">Vacancy Posts (Category-wise)</div>

          <div class="controls-row">
            <div class="field small"><label>GEN</label><input id="genPosts" type="number"></div>
            <div class="field small"><label>OSC</label><input id="oscPosts" type="number"></div>
            <div class="field small"><label>DSC</label><input id="dscPosts" type="number"></div>
            <div class="field small"><label>BCA</label><input id="bcaPosts" type="number"></div>
            <div class="field small"><label>BCB</label><input id="bcbPosts" type="number"></div>
            <div class="field small"><label>EWS</label><input id="ewsPosts" type="number"></div>
          </div>

          <button class="calc-btn" id="calcBtn">⚡ Police Cutoff निकालें</button>
          <div id="errorBox" class="error"></div>
        </div>

        <!-- RIGHT CARD -->
        <div class="table-card">
          <div class="card-title">Category-wise Cutoff (Posts × 10)</div>

          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>Category</th>
                  <th>Posts</th>
                  <th>Target (×10)</th>
                  <th>Sheet candidates</th>
                  <th>Cutoff</th>
                </tr>
              </thead>
              <tbody id="cutoffBody">
                <tr><td colspan="5" style="color:var(--muted)">Select post & seats…</td></tr>
              </tbody>
            </table>
          </div>

          <div style="margin-top:10px;">
            Sheet Total: <span id="totalCandText">--</span> · Last Calc: <span id="calcTimeText">--</span>
          </div>
        </div>

      </div>

      <!-- SOCIAL FOOTER -->
      <div class="social-footer">
        <p>CET Updates · Cutoff Analysis · Notifications</p>

        <div class="social-footer-row">
          <a href="https://instagram.com/adv_kanha73" class="social-pill insta" target="_blank">
            <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png"> Instagram
          </a>

          <a href="https://whatsapp.com/channel/0029Vb6kNhq8fewpVWfe1m1s" class="social-pill wh" target="_blank">
            <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg"> WhatsApp Channel
          </a>

          <a href="https://t.me/cetranker" class="social-pill tg" target="_blank">
            <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg"> Telegram
          </a>

          <a href="https://youtube.com/@cetranker" class="social-pill yt" target="_blank">
            <img src="https://upload.wikimedia.org/wikipedia/commons/b/b8/YouTube_Logo_2017.svg"> YouTube
          </a>

          <a href="https://your-website-url.com" class="social-pill web" target="_blank">
            <img src="https://upload.wikimedia.org/wikipedia/commons/e/e0/OOjs_UI_icon_globe-progressive.svg"> Website
          </a>
        </div>
      </div>

    </div>

    <script>
      const BACKEND_URL = "https://script.google.com/macros/s/AKfycbwHo7ecIYJP-ekEOfsCnD1BUtbSJ_nF6ZNZ2vi_hsQb6fyA0GBurHQTxWbPrm0DKZzOIQ/exec";

      const postTypeEl = document.getElementById("postType");
      const genPostsEl = document.getElementById("genPosts");
      const oscPostsEl = document.getElementById("oscPosts");
      const dscPostsEl = document.getElementById("dscPosts");
      const bcaPostsEl = document.getElementById("bcaPosts");
      const bcbPostsEl = document.getElementById("bcbPosts");
      const ewsPostsEl = document.getElementById("ewsPosts");

      const cutoffBody = document.getElementById("cutoffBody");

      function setDefaults(pt) {
        if (pt === "CONSTABLE_MALE") {
          genPostsEl.value = 1800;
          oscPostsEl.value = 450;
          dscPostsEl.value = 450;
          bcaPostsEl.value = 700;
          bcbPostsEl.value = 400;
          ewsPostsEl.value = 500;
        }
        else if (pt === "CONSTABLE_FEMALE") {
          genPostsEl.value = 360;
          oscPostsEl.value = 90;
          dscPostsEl.value = 90;
          bcaPostsEl.value = 140;
          bcbPostsEl.value = 80;
          ewsPostsEl.value = 100;
        }
        else {
          genPostsEl.value = "";
          oscPostsEl.value = "";
          dscPostsEl.value = "";
          bcaPostsEl.value = "";
          bcbPostsEl.value = "";
          ewsPostsEl.value = "";
        }
      }

      postTypeEl.addEventListener("change", () => {
        setDefaults(postTypeEl.value);
      });
    </script>

  </body>
</html>
